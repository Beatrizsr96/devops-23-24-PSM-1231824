# Class Assignment Part 2: Building a Spring Boot Project with Gradle

This assignment involves converting the basic version of the Tutorial application to Gradle instead of Maven. It covers tasks such as setting up a Gradle project, managing dependencies, integrating frontend build automation, and executing commands to build and run the application.

## Steps to Complete the Assignment:

1. **Create a New Branch:**
   - Create a new branch named `tut-basic-gradle` in your repository and checkout this branch. This branch will be used for this part of the assignment.

```bash
git branch tut-basic-gradle
git checkout tut-basic-gradle
```

2. **Initialize Spring Boot Project with Gradle:**
   - Use https://start.spring.io to start a new Gradle Spring Boot project with the following dependencies: Rest Repositories, Thymeleaf, JPA, and H2.
   - Extract the generated zip file inside the `CA2/Part2/` folder of your repository.
   - Check available Gradle tasks by executing `./gradlew tasks`.

3. **Prepare the Project Structure:**
   - Delete the `src` folder generated by Spring Initializer.

```bash
rm -rf src
```
   - Copy the `src` folder (and all its subfolders) from the basic folder of the tutorial into the new project folder.

```bash
cp -r path/to/basic/src/
```
   - Copy the files `webpack.config.js` and `package.json` from the basic folder into the new project folder.

```bash
cp path/to/basic/webpack.config.js 
cp path/to/basic/package.json 
```
   - Delete the folder `src/main/resources/static/built/` as it should be generated by Webpack.

```bash
rm -rf src/main/resources/static/built/
```


4. **Manage Frontend Code with Gradle:**
   - Add the Gradle plugin `org.siouan.frontend` to the project to manage frontend code.

```gradle
id "org.siouan.frontend-jdk8" version "6.0.0"
id "org.siouan.frontend-jdk11" version "8.0.0"
id "org.siouan.frontend-jdk17" version "8.0.0"
```

   - Add configuration code in `build.gradle` to configure the plugin for frontend tasks.

```gradle
frontend {
    nodeVersion = "16.20.2"
    assembleScript = "run build"
    cleanScript = "run clean"
    checkScript = "run check"
}
```

5. **Update Package.json Scripts:**
   - Update the scripts section/object in `package.json` to configure the execution of Webpack.

6. **Build and Run the Application:**
   - Execute `./gradlew build` to build the application. Frontend tasks are also executed, and frontend code is generated.
   - Execute `./gradlew bootRun` to run the application.

7. **Additional Gradle Tasks:**
   - Add a task to Gradle to copy the generated JAR to a folder named "dist" located at the project root folder level.

```gradle
task copyJar(type: Copy) {
	from 'build/libs'
	into 'dist'
	include '*.jar'
}
```

   - Add a task to Gradle to delete all files generated by Webpack, usually located at `src/resources/main/static/built/`.

```gradle
task cleanWebpack(type: Delete) {
	delete 'src/main/resources/static/built/**'
}

clean.dependsOn(cleanWebpack)
```

8. **Experiment and Commit:**
   - Experiment with the application and ensure all features work as expected.
   - Commit your code and merge with the master branch.

```bash
git push origin tut-basic-gradle
```

9. **Tag Repository:**
   - At the end of part 2 of this assignment, mark your repository with the tag `ca2-part2`.

 ```bash
git tag ca2-part2
```

During the assignment's development, issues arose with the frontend plugin implementation, causing project compilation problems. Troubleshooting revealed that the plugin wasn't functioning correctly, leading to additional commits as efforts were made to resolve the issue. Despite attempts to build the project before adding the package manager, certain generated files were inadvertently included, hindering compilation. Consequently, the assignment had to be restarted to address these setbacks.

After restarting and incorporating the package manager section into the build.gradle file, the project compiled successfully, and the frontend plugin began working as intended. Additional tasks, including copyJar and deleteWebpackFiles, were implemented without issue, and the project was subsequently merged into the master branch. With these updates, the assignment was completed successfully, and all changes were pushed to the repository.
